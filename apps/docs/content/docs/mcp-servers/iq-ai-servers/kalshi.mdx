---
title: MCP Kalshi
description: Access and trade on prediction markets via the Kalshi platform API.
---

import { Callout } from "fumadocs-ui/components/callout";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";

- **Package**: [`@iqai/mcp-kalshi`](https://www.npmjs.com/package/@iqai/mcp-kalshi)
- **Provider**: [Kalshi](https://kalshi.com)

## Overview

The Kalshi MCP server connects your agent to Kalshi's regulated prediction markets. It can fetch active markets, retrieve market prices and probabilities, place trades, and query your open positions — enabling agents to reason about real-world outcomes using financial prediction data.

<Callout type="warn" title="API Credentials Required">
  Trading on Kalshi requires a funded account and valid API credentials. Paper
  trading is not available via the API.
</Callout>

## Getting Started

Install the package:

```bash
pnpm add @iqai/mcp-kalshi
```

Use the server in your agent:

<Tabs items={["Simple", "Verbose", "Claude Desktop"]}>
  <Tab value="Simple">
    ```typescript
    import { McpKalshi } from "@iqai/adk";

    const toolset = McpKalshi({
      env: {
        KALSHI_API_KEY: process.env.KALSHI_API_KEY,
        KALSHI_PRIVATE_KEY_PATH: process.env.KALSHI_PRIVATE_KEY_PATH,
      },
    });

    const tools = await toolset.getTools();
    ```

  </Tab>

  <Tab value="Verbose">
    ```typescript
    import { McpToolset } from "@iqai/adk";

    const toolset = new McpToolset({
      name: "Kalshi MCP Client",
      description: "Client for Kalshi prediction markets",
      transport: {
        mode: "stdio",
        command: "npx",
        args: ["-y", "@iqai/mcp-kalshi"],
        env: {
          KALSHI_API_KEY: process.env.KALSHI_API_KEY,
          KALSHI_PRIVATE_KEY_PATH: process.env.KALSHI_PRIVATE_KEY_PATH,
          PATH: process.env.PATH || "",
        },
      },
    });

    const tools = await toolset.getTools();
    ```

  </Tab>

  <Tab value="Claude Desktop">
    ```json
    {
      "mcpServers": {
        "kalshi-mcp-server": {
          "command": "npx",
          "args": ["-y", "@iqai/mcp-kalshi"],
          "env": {
            "KALSHI_API_KEY": "your_kalshi_api_key",
            "KALSHI_PRIVATE_KEY_PATH": "/path/to/your/private_key.pem"
          }
        }
      }
    }
    ```
  </Tab>
</Tabs>

## Environment Variables

| Variable                  | Required                            | Description                                                      |
| ------------------------- | ----------------------------------- | ---------------------------------------------------------------- |
| `KALSHI_API_KEY`          | Yes                                 | Your Kalshi API key ID                                           |
| `KALSHI_PRIVATE_KEY_PATH` | One of the two key options required | Path to your RSA private key `.pem` file for request signing     |
| `KALSHI_PRIVATE_KEY_PEM`  | One of the two key options required | RSA private key as a PEM string (alternative to the path option) |

## Credentials

To get your Kalshi API credentials:

1. Create an account at [kalshi.com](https://kalshi.com) and complete identity verification
2. Go to **Account Settings → API**
3. Generate a new API key and note your **API Key ID**
4. Generate an RSA key pair (Kalshi uses RSA-PS256 for request signing):
   ```bash
   openssl genrsa -out kalshi_private.pem 2048
   openssl rsa -in kalshi_private.pem -pubout -out kalshi_public.pem
   ```
5. Upload `kalshi_public.pem` in your Kalshi API settings
6. Set `KALSHI_PRIVATE_KEY_PATH` to the path of your `kalshi_private.pem`

## Available Tools

<McpToolsList serverId="kalshi" />

## Integration Example

```typescript
import { AgentBuilder, McpKalshi } from "@iqai/adk";
import * as dotenv from "dotenv";

dotenv.config();

async function main() {
  // Initialize McpKalshi toolset
  const toolset = McpKalshi({
    env: {
      KALSHI_API_KEY: process.env.KALSHI_API_KEY,
      KALSHI_PRIVATE_KEY_PATH: process.env.KALSHI_PRIVATE_KEY_PATH,
    },
  });

  // Get available McpKalshi tools
  const kalshiTools = await toolset.getTools();

  // Create agent with McpKalshi tools
  const { runner } = await AgentBuilder.create("kalshi_agent")
    .withModel("gemini-2.5-flash")
    .withDescription(
      "A prediction market agent that monitors and trades on Kalshi",
    )
    .withTools(...kalshiTools)
    .build();

  const response = await runner.ask(
    "What are the most active prediction markets on Kalshi right now, and what are their current odds",
  );

  console.log(response);
}

main().catch(console.error);
```

## Further Resources

- [`@iqai/mcp-kalshi` on npm](https://www.npmjs.com/package/@iqai/mcp-kalshi)
- [Kalshi API Docs](https://docs.kalshi.com/welcome)
- [Kalshi](https://kalshi.com)
