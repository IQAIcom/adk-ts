---
title: Railway
description: Deploy ADK-TS agents to Railway using Docker containers
---

import { Callout } from "fumadocs-ui/components/callout";

Railway is a cloud platform that simplifies deploying containerized applications with built-in CI/CD and automatic scaling. **Best for**: Quick deployments, containerized applications, and managed infrastructure. Railway offers simple setup and automatic scaling, though pricing may be higher for large-scale deployments. This guide shows you how to deploy your ADK-TS agent to Railway using a Docker image.

## Prerequisites

- **Railway Account**: Sign up at [railway.app](https://railway.app)
- **Docker**: Installed and configured on your local machine - [Get Docker](https://docs.docker.com/get-docker/)
- **DockerHub Account**: To push your Docker image (optional if using GitHub CI)
- **ADK-TS Project**: Set up with a `.env` file containing required variables
- **GitHub Repository**: Your project pushed to GitHub (optional for CI deployment)

## Deployment Options

You can deploy to Railway using:

1. **DockerHub Image**: Build locally, push to DockerHub, deploy from Railway
2. **GitHub CI**: Push Dockerfile to GitHub, let Railway build and deploy automatically

## Option 1: Deploy from DockerHub

### Step 1: Build and Push Docker Image

Create a `Dockerfile` in your project root:

```dockerfile
# Use Node.js 20 Alpine as the base image (lightweight Linux distribution)
FROM node:20-alpine

# Enable pnpm package manager and set a specific version for consistency
RUN corepack enable && corepack prepare pnpm@9.12.0 --activate

# Set the working directory inside the container
WORKDIR /app

# Copy package files first for better Docker layer caching
COPY package.json pnpm-lock.yaml ./

# Install dependencies using frozen lockfile for reproducible builds
RUN pnpm install --frozen-lockfile

# Copy TypeScript config and source code
COPY tsconfig.json ./
COPY src ./src

# Build the project
RUN pnpm build

# Set production environment
ENV NODE_ENV=production

# Define the command to run when the container starts
CMD ["node", "dist/index.js"]
```

**Build the Docker image:**

Railway uses AMD64 processors, so build specifically for that platform:

```bash
# Build for Railway (AMD64 platform)
docker buildx build --platform linux/amd64 -t your_docker_username/your_agent_name:tag .
```

Replace `your_docker_username` with your Docker Hub username, `your_agent_name` with your project name, and `tag` with a version (like `v1.0` or `latest`).

**Push to DockerHub:**

1. Login to Docker Hub:

```bash
docker login
```

2. Push your image:

```bash
docker push your_docker_username/your_agent_name:tag
```

### Step 2: Set Up Railway Project

In the Railway dashboard:

1. Log in to [Railway](https://railway.app)
2. Click **"New Project"** in the top right
3. Select **"Deploy from Docker Image"** from the options
4. Enter your full image name exactly as you pushed it: `your_docker_username/your_agent_name:tag`
5. Railway will pull your image from Docker Hub

### Step 3: Configure Environment Variables

Your agent needs environment variables to run (API keys, tokens, etc.). Add them in Railway:

1. In your Railway project, find the **"Variables"** tab
2. Click **"New Variable"** for each variable you need
3. Copy the variable names and values from your local `.env` file
4. Add them one by one (e.g., `GOOGLE_API_KEY`, `LLM_MODEL`, `DISCORD_TOKEN`)

<Callout type="warn" title="Security">
  Railway encrypts environment variables automatically. Never share these values
  publicly.
</Callout>

### Step 4: Deploy

Click **"Deploy"** to launch your agent. Railway will pull the Docker image and start your container.

## Option 2: Deploy from GitHub CI

### Step 1: Push Dockerfile to GitHub

Commit and push your `Dockerfile` to your GitHub repository:

```bash
git add Dockerfile
git commit -m "Add Dockerfile for Railway deployment"
git push origin main
```

### Step 2: Connect GitHub to Railway

1. Log in to [Railway](https://railway.app)
2. Click **"New Project"**
3. Select **"Deploy from GitHub repo"**
4. Authorize Railway to access your GitHub account (first time only)
5. Choose your repository from the list
6. Select the branch to deploy (usually `main`)

### Step 3: Configure Environment Variables

Add your environment variables in Railway's **"Variables"** tab, just like in Option 1.

### Step 4: Automatic Deployment

Railway now handles everything automatically:

- **First deployment**: Detects your `Dockerfile`, builds the image, and deploys
- **Future updates**: Every time you push to your connected branch, Railway rebuilds and redeploys
- **No manual steps needed** after initial setup

## Verifying Deployment

### Check Deployment Status

In your Railway project dashboard:

1. Look for the **"Deployments"** section - it should show "Active" with a green indicator
2. Click on the latest deployment to view detailed logs
3. Check the logs for your agent's startup messages
4. Look for any error messages (shown in red)

### Test Your Agent

Once deployment is active, test that it works:

- **Discord bots**: Send a command in your Discord server
- **Telegram bots**: Message your bot
- **API agents**: Make a test HTTP request to your endpoint
- **Check logs**: Watch Railway logs in real-time to see your agent responding

## Monitoring and Updates

### View Logs

Railway provides real-time logs in the **"Logs"** tab of your deployment. Use them to:

- Debug issues by viewing error messages
- Monitor your agent's activity and responses
- Track warnings or performance issues

### Updating Your Deployment

**For DockerHub deployments:**

1. Make code changes locally
2. Build and push new Docker image (use a new tag like `v1.1`)
3. In Railway, update the image reference to the new tag
4. Railway will pull the new image and redeploy automatically

**For GitHub CI deployments:**

1. Make code changes locally
2. Commit and push to your connected branch
3. Railway detects the changes and automatically rebuilds and redeploys
4. Watch the deployment logs to confirm success

## Railway Troubleshooting

### Docker Push Fails

**Problem**: Can't push image to Docker Hub

- Verify you're logged in (run `docker login`)
- Check your image name format matches `username/image:tag`
- Confirm you have permission to push to this repository
- Check your internet connection

### Missing Environment Variables

**Problem**: Agent crashes or features don't work

- Go to Railway's **"Variables"** tab and verify all variables are present
- Check that variable names match exactly what your code expects (case-sensitive)
- Look for typos in variable values
- Restart the deployment after adding missing variables

### Build Failures

**Problem**: Railway build fails

- Click on the failed deployment to view detailed build logs
- Look for error messages about missing dependencies or syntax errors
- Verify your `Dockerfile` has correct syntax
- Ensure all dependencies are listed in `package.json`
- Check for TypeScript compilation errors in the logs

### Agent Not Starting

**Problem**: Deployment succeeds but agent doesn't run

- Check Railway logs for runtime error messages
- Verify the `CMD` in your Dockerfile points to the correct file
- Ensure all required environment variables are set
- Confirm your build process creates the expected output files (check `dist/` folder exists)

## Railway Best Practices

### Version Control

- Use specific image tags (like `v1.0`, `v1.1`) instead of `latest` for better tracking
- Tag images with version numbers or git commit hashes

### Cost Management

- Set resource limits in Railway's settings to prevent unexpected charges
- Monitor usage in Railway's dashboard
- Use Railway's sleep feature for non-critical deployments

### Reliability

- Enable health checks if your agent exposes an HTTP endpoint
- Use Railway's preview environments to test changes before deploying to production
- Monitor logs regularly to catch issues early

### Security

- Never commit environment variables or secrets to git
- Railway automatically encrypts environment variables
- Rotate API keys and tokens regularly
- Use Railway's audit logs to track changes

## Next Steps

- Explore the [Docker deployment guide](/docs/framework/guides/deployment/docker) for more Docker options
- Learn about production best practices (guide coming soon)
- Set up monitoring and alerting for your agent
