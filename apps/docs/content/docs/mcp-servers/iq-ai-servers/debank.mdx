---
title: MCP DeBank
description: Query cross-chain DeFi portfolio data, token balances, and protocol positions via the DeBank API.
---

import { Callout } from "fumadocs-ui/components/callout";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";

- **Package**: [`@iqai/mcp-debank`](https://www.npmjs.com/package/@iqai/mcp-debank)
- **Provider**: [DeBank](https://debank.com)

## Overview

The DeBank MCP server gives your agent access to DeBank's cross-chain portfolio data. It can retrieve wallet token balances, protocol positions, transaction history, and total portfolio value across all major EVM chains.

<Callout type="info" title="Authentication Modes">
  DeBank supports two mutually exclusive access modes: a **DeBank API Key** for
  direct access, or an **IQ Gateway** for proxied access. If both are provided,
  the gateway takes priority.
</Callout>

## Getting Started

Install the package:

```bash
pnpm add @iqai/mcp-debank
```

Use the server in your agent:

<Tabs items={["Simple", "Verbose", "Claude Desktop"]}>
  <Tab value="Simple">
    ```typescript
    import { McpDebank } from "@iqai/adk";

    const toolset = McpDebank({
      env: {
        DEBANK_API_KEY: process.env.DEBANK_API_KEY,
      },
    });

    const tools = await toolset.getTools();
    ```

  </Tab>

  <Tab value="Verbose">
    ```typescript
    import { McpToolset } from "@iqai/adk";

    const toolset = new McpToolset({
      name: "Debank MCP Client",
      description: "Client for DeBank cross-chain portfolio data",
      transport: {
        mode: "stdio",
        command: "npx",
        args: ["-y", "@iqai/mcp-debank"],
        env: {
          DEBANK_API_KEY: process.env.DEBANK_API_KEY,
          PATH: process.env.PATH || "",
        },
      },
    });

    const tools = await toolset.getTools();
    ```

  </Tab>

  <Tab value="Claude Desktop">
    ```json
    {
      "mcpServers": {
        "debank-mcp-server": {
          "command": "npx",
          "args": ["-y", "@iqai/mcp-debank"],
          "env": {
            "DEBANK_API_KEY": "your_debank_api_key"
          }
        }
      }
    }
    ```
  </Tab>
</Tabs>

## Environment Variables

| Variable         | Required                  | Description                               |
| ---------------- | ------------------------- | ----------------------------------------- |
| `DEBANK_API_KEY` | Required for API key mode | API key obtained from the DeBank platform |
| `IQ_GATEWAY_URL` | Required for gateway mode | Base URL of the IQ Gateway service        |
| `IQ_GATEWAY_KEY` | Required for gateway mode | Authentication key for the IQ Gateway     |

## Credentials

To get a DeBank API Key:

1. Visit [DeBank Open API](https://cloud.debank.com/)
2. Sign up and create a project
3. Copy your **API Key** from the dashboard

## Available Tools

<McpToolsList serverId="debank" />

## Integration Example

```typescript
import { AgentBuilder, McpDebank } from "@iqai/adk";
import * as dotenv from "dotenv";

dotenv.config();

async function main() {
  // Initialize McpDebank toolset
  const toolset = McpDebank({
    env: {
      DEBANK_API_KEY: process.env.DEBANK_API_KEY,
    },
  });

  // Get available McpDebank tools
  const debankTools = await toolset.getTools();

  // Create agent with McpDebank tools
  const { runner } = await AgentBuilder.create("debank_agent")
    .withModel("gemini-2.5-flash")
    .withDescription("A DeFi portfolio agent that tracks cross-chain positions")
    .withTools(...debankTools)
    .build();

  const response = await runner.ask(
    "What is the total portfolio value of 0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045 across all chains?",
  );

  console.log(response);
}

main().catch(console.error);
```

## Further Resources

- [`@iqai/mcp-debank` on npm](https://www.npmjs.com/package/@iqai/mcp-debank)
- [DeBank Open API Docs](https://cloud.debank.com/open-api)
- [DeBank](https://debank.com)
